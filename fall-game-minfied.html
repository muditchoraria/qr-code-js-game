<!DOCTYPE html><html lang="en"><style type="text/css">*{padding: 0; margin: 0;}#game{width: 400px; height: 500px; border: 1px solid black; margin: auto; overflow: hidden;}#character{width: 20px; height: 20px; background-color: red; border-radius: 50%; position: relative; top: 400px; left: 190px; z-index: 1000000;}.block{width: 400px; height: 20px; background-color: black; position: relative; top: 100px; margin-top: -20px;}.hole{width: 40px; height: 20px; background-color: white; position: relative; top: 100px; margin-top: -20px;}</style><head> <meta charset="UTF-8"> <title>Fall game</title> <link rel="stylesheet" href="style.css"></head><body><div id="game"> <div id="character"></div></div></body><script>var interval,character=document.getElementById("character"),game=document.getElementById("game"),both=0,counter=0,currentBlocks=[];function moveLeft(){var e=parseInt(window.getComputedStyle(character).getPropertyValue("left"));e>0&&(character.style.left=e-2+"px")}function moveRight(){var e=parseInt(window.getComputedStyle(character).getPropertyValue("left"));e<380&&(character.style.left=e+2+"px")}document.addEventListener("keydown",e=>{0==both&&(both++,"ArrowLeft"===e.key&&(interval=setInterval(moveLeft,1)),"ArrowRight"===e.key&&(interval=setInterval(moveRight,1)))}),document.addEventListener("keyup",e=>{clearInterval(interval),both=0});var blocks=setInterval(function(){var e=document.getElementById("block"+(counter-1)),t=document.getElementById("hole"+(counter-1));if(counter>0)var r=parseInt(window.getComputedStyle(e).getPropertyValue("top")),o=parseInt(window.getComputedStyle(t).getPropertyValue("top"));if(r<400||0==counter){var a=document.createElement("div"),l=document.createElement("div");a.setAttribute("class","block"),l.setAttribute("class","hole"),a.setAttribute("id","block"+counter),l.setAttribute("id","hole"+counter),a.style.top=r+100+"px",l.style.top=o+100+"px";var n=Math.floor(360*Math.random());l.style.left=n+"px",game.appendChild(a),game.appendChild(l),currentBlocks.push(counter),counter++}var c=parseInt(window.getComputedStyle(character).getPropertyValue("top")),u=parseInt(window.getComputedStyle(character).getPropertyValue("left")),p=0;c<=0&&(alert("Game over. Score: "+(counter-9)),clearInterval(blocks),location.reload());for(var d=0;d<currentBlocks.length;d++){let e=currentBlocks[d],t=document.getElementById("block"+e),r=document.getElementById("hole"+e),o=parseFloat(window.getComputedStyle(t).getPropertyValue("top")),a=parseFloat(window.getComputedStyle(r).getPropertyValue("left"));t.style.top=o-.5+"px",r.style.top=o-.5+"px",o<-20&&(currentBlocks.shift(),t.remove(),r.remove()),o-20<c&&o>c&&(p++,a<=u&&a+20>=u&&(p=0))}0==p?c<480&&(character.style.top=c+2+"px"):character.style.top=c-.5+"px"},1);</script></html>
